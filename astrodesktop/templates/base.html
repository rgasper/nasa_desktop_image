{% load static %}
{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
		{% tailwind_css %}
    <title>{% block title %}Astro Desktop Pictures{% endblock %}</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script
				src="https://unpkg.com/htmx.org@1.5.0"
        integrity="sha384-oGA+prIp5Vchu6we2YkI51UtVzN9Jpx2Z7PnR1I78PnZlN8LkrCT4lqqqmDkyrvI"
        crossorigin="anonymous"
		>
		</script>
</head>
<body>
	<div class="grid grid-cols-1 place-content-center font-serif text-xl font-extrabold text-center">Astro Pic of the Day</div>
	<div hx-get="{% url 'pictureoftheday' %}" hx-trigger="load" hx-target="#picoftheday">
		<div id="picoftheday" class="grid grid-cols-1 place-content-center">default</div>
	</div>
	<div class="grid grid-cols-1 place-content-center font-serif text-xl font-extrabold text-center">Current Collection</div>
  <div class="grid grid-cols-1 place-content-center container w-2/3" id="content">
  </div>
	<button
	  type="button"
	  class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"
		hx-get="/pics?order_by=recency"
		hx-target="#picture-table-body"
		hx-trigger="load,click"
	>
  	Sort Collection by Recency
	</button>
	<table class="table-auto">
	<thead class="border-b bg-gray-800">
	  <tr>
	    <th>Thumb</th>
	    <th>
	      <button
	        hx-get="/pics?order_by=name"
	        hx-target="#picture-table-body"
	        hx-trigger="click"
	      >
	      Name
	      </button>
	    </th>
	    <th>
	      <button
	        hx-get="/pics?order_by=width"
	        hx-target="#picture-table-body"
	        hx-trigger="click"
	      >
	      Width
	      </button>
	    </th>
	    <th>
	      <button
	        hx-get="/pics?order_by=height"
	        hx-target="#picture-table-body"
	        hx-trigger="click"
	      >
	      Height
	      </button>
	    </th>
	  </tr>
	</thead>
	<tbody id="picture-table-body"></tbody>
	</table>
	<script>
	    document.body.addEventListener('htmx:configRequest', (event) => {
	    event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
	    })
	</script>
</body>
</html>
